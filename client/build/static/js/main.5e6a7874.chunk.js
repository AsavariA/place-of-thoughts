(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(12),c=a.n(r),i=(a(144),a(14)),l=a(45),s=a(17),o=a(20),u=a(13),d=a.n(u),j=a(22),b=a(99),h=a.n(b).a.create({baseURL:"https://place-of-thoughts.herokuapp.com/"});h.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var p=function(e,t){return h.patch("/blogs/".concat(e),t)},x=function(e){return h.delete("/blogs/".concat(e))},f=function(e){return h.patch("/blogs/".concat(e,"/saveBlog"))},O=function(e,t){return h.post("/blogs/".concat(t,"/commentBlog"),{value:e})},m=function(e){return h.post("users/signin",e)},v=function(e){return h.post("users/signup",e)},g=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,h.post("/blogs",c);case 3:n=t.sent,r=n.data,a({type:"CREATE",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var r,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p(e,t);case 3:r=a.sent,c=r.data,n({type:"UPDATE",payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("profile")),t.prev=1,t.next=4,f(e,null===n||void 0===n||n.token);case 4:r=t.sent,c=r.data,a({type:"SAVE",payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var r,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O(e,t);case 3:return r=a.sent,c=r.data,n({type:"COMMENT",payload:c}),a.abrupt("return",c.comments);case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},N=a(11),C=a(65),H=a(101),D=a.n(H),M=a(102),k=a.n(M),B=a(66),A=a.n(B),G=a(103),I=a.n(G),T=a(104),q=a.n(T),W=a(105),E=a.n(W),Y=a(106),_=a.n(Y),P=a(107),L=a.n(P),U=a(108),V=a.n(U),F=a(109),J=a.n(F),R=a(110),z=a.n(R),K=a(111),X=a.n(K),Q=a(112),Z=a.n(Q),$=a(113),ee=a.n($),te=a(114),ae=a.n(te),ne=a(115),re=a.n(ne),ce={embed:D.a,table:k.a,paragraph:A.a,list:I.a,warning:q.a,code:E.a,linkTool:_.a,image:{class:re.a,inlineToolbar:!0,config:{embed:{display:!0},unsplash:{appName:"place-of-thoughts",clientId:"XD21PylDKH_N4U88q21aJNALEGPDSwlM3eRADxuOkfU"}}},raw:L.a,header:V.a,quote:J.a,marker:z.a,checklist:X.a,delimiter:Z.a,inlineCode:ee.a,simpleImage:ae.a},ie=[{label:"Health and Lifestyle",value:"https://images.unsplash.com/photo-1524863479829-916d8e77f114?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"Nature",value:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=840&q=80"},{label:"Travel",value:"https://images.unsplash.com/photo-1531219432768-9f540ce91ef3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"Stock Market",value:"https://images.unsplash.com/photo-1614028674026-a65e31bfd27c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"Food",value:"https://images.unsplash.com/photo-1504113888839-1c8eb50233d3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=715&q=80"},{label:"Politics",value:"https://images.unsplash.com/photo-1607778417094-1fef13315e6e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=666&q=80"},{label:"History",value:"https://images.unsplash.com/photo-1479142506502-19b3a3b7ff33?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"Social Services",value:"https://images.unsplash.com/photo-1556484687-30636164638b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=667&q=80"},{label:"Social Media",value:"https://images.unsplash.com/photo-1611926653458-09294b3142bf?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"Sports",value:"https://images.unsplash.com/photo-1575361204480-aadea25e6e68?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80"},{label:"Art and Design",value:"https://images.unsplash.com/photo-1509343256512-d77a5cb3791b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"Hobbies",value:"https://images.unsplash.com/photo-1588591795084-1770cb3be374?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"Business",value:"https://images.unsplash.com/photo-1444653614773-995cb1ef9efa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=755&q=80"},{label:"Technology",value:"https://images.unsplash.com/photo-1515879218367-8466d910aaa4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=750&q=80"},{label:"Stories",value:"https://images.unsplash.com/photo-1612969307974-ee4e57d2d5a7?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{label:"News",value:"https://images.unsplash.com/photo-1573812195421-50a396d17893?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=668&q=80"},{label:"Other",value:"https://images.unsplash.com/photo-1618359057154-e21ae64350b6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"}],le=a(238),se=a(236),oe=a(1);function ue(e){return Object(oe.jsx)(se.a,Object(N.a)({elevation:6,variant:"filled"},e))}var de=function(){var e,t=Object(n.useRef)(null),a=Object(o.b)(),r=Object(n.useState)({description:"",title:"",category:ie[ie.length-1].value}),c=Object(i.a)(r,2),l=c[0],s=c[1],u=JSON.parse(localStorage.getItem("profile")),b=Object(n.useState)(!1),h=Object(i.a)(b,2),p=h[0],x=h[1],f=Object(n.useState)(!1),O=Object(i.a)(f,2),m=O[0],v=O[1],y=function(e,t){"clickaway"!==t&&v(!1)},w=function(){var e=Object(j.a)(d.a.mark((function e(n){var r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t.current.save();case 3:0!==(r=e.sent).blocks.length?(i={description:l.description,title:l.title,category:l.category,content:r},a(g(Object(N.a)(Object(N.a)({},i),{},{ownerName:null===u||void 0===u||null===(c=u.result)||void 0===c?void 0:c.name}))),v(!0),x(!0)):alert("Your blog cannot be empty!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===u||void 0===u||null===(e=u.result)||void 0===e?void 0:e.name)?Object(oe.jsxs)("div",{children:[Object(oe.jsx)(le.a,{open:m,autoHideDuration:6e3,onClose:y,children:Object(oe.jsx)(ue,{onClose:y,severity:"success",children:"Blog published sucessfully! Go back to home to see your latest blog!"})}),Object(oe.jsx)(C.a,{readOnly:!1,data:{blocks:[]},tools:ce,placeholder:"Start your story here!",instanceRef:function(e){return t.current=e}}),Object(oe.jsxs)("form",{className:"form",onSubmit:w,children:[Object(oe.jsx)("label",{children:"Blog Title:"}),Object(oe.jsx)("input",{required:!0,type:"text",id:"title",name:"title",placeholder:"Blog Title",value:l.title,onChange:function(e){return s(Object(N.a)(Object(N.a)({},l),{},{title:e.target.value}))}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("label",{children:"Short Description:"}),Object(oe.jsx)("input",{required:!0,type:"text",id:"description",name:"description",placeholder:"Short Description",value:l.description,onChange:function(e){return s(Object(N.a)(Object(N.a)({},l),{},{description:e.target.value}))}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("label",{children:"Category:"}),Object(oe.jsx)("select",{name:"category",id:"category",required:!0,value:l.category,onChange:function(e){return s(Object(N.a)(Object(N.a)({},l),{},{category:e.target.value}))},children:ie.map((function(e){return Object(oe.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(oe.jsx)("br",{}),Object(oe.jsx)("input",{type:"submit",value:"Publish",disabled:p})]})]}):Object(oe.jsxs)("div",{className:"editor-signup",children:[Object(oe.jsx)("h2",{children:"Sign up to write a story!"}),Object(oe.jsx)("h4",{className:"auth-buttons",children:Object(oe.jsx)("a",{style:{color:"black"},href:"/auth",children:"Sign Up"})})]})},je=a(120),be=a.n(je),he=a.p+"static/media/POT.1398333d.png",pe=a(121),xe=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(o.b)(),l=Object(s.g)(),u=Object(s.h)(),d=function(){c({type:"LOGOUT"}),l.push("/"),r(null)};return Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.token;(r(JSON.parse(localStorage.getItem("profile"))),e)&&(1e3*Object(pe.a)(e).exp<(new Date).getTime()&&d())}),[u]),Object(oe.jsx)("div",{children:Object(oe.jsxs)(be.a,{logo:he,color:"black",drawerColor:"rgba(0,0,0,0.6)",burgerColor:"#fff",drawerHeight:"100vh",children:[Object(oe.jsx)("h4",{style:{margin:"2rem 0"},children:Object(oe.jsx)("a",{style:{color:"white"},href:"/",children:"Home"})}),Object(oe.jsx)("h4",{style:{margin:"2rem 0"},children:Object(oe.jsx)("a",{style:{color:"white"},href:"/profile",children:"Profile"})}),Object(oe.jsx)("h4",{style:{margin:"2rem 0"},children:Object(oe.jsx)("a",{style:{color:"white"},href:"/write",children:"Write"})}),a?Object(oe.jsx)("button",{className:"auth-buttons",style:{border:"none",cursor:"pointer"},onClick:d,children:"LOGOUT"}):Object(oe.jsx)("h4",{className:"auth-buttons",children:Object(oe.jsx)("a",{style:{color:"black"},href:"/auth",children:"Sign In"})})]})})},fe=function(){return Object(oe.jsx)("footer",{children:"Place of Thoughts | Asavari Ambavane 2021"})},Oe=a(64),me=a(222),ve=a(184),ge=a(240),ye=a(73),we=a(219),Se=a(223),Ne=a(218),Ce=Object(Ne.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),He=a(235),De=a(221),Me=a(216),ke=a(122),Be=a.n(ke),Ae=a(123),Ge=a.n(Ae),Ie=function(e){var t=e.name,a=e.handleChange,n=e.label,r=e.half,c=e.type,i=e.handleShowPassword,l=e.value;return Object(oe.jsx)(we.a,{item:!0,xs:12,sm:r?6:12,children:Object(oe.jsx)(He.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,value:l,size:"small",label:n,type:c,InputProps:"password"===t?{endAdornment:Object(oe.jsx)(De.a,{position:"end",children:Object(oe.jsx)(Me.a,{onClick:i,children:"password"===c?Object(oe.jsx)(Be.a,{}):Object(oe.jsx)(Ge.a,{})})})}:null})})},Te=a(124),qe=a.n(Te),We={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function Ee(e){return Object(oe.jsx)(se.a,Object(N.a)({elevation:6,variant:"filled"},e))}var Ye=function(){var e=Ce(),t=Object(o.b)(),a=Object(s.g)(),r=Object(n.useState)(!1),c=Object(i.a)(r,2),l=c[0],u=c[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),p=h[0],x=h[1],f=Object(n.useState)(We),O=Object(i.a)(f,2),g=O[0],y=O[1],w=Object(n.useState)(!1),S=Object(i.a)(w,2),C=S[0],H=S[1],D=function(e,t){"clickaway"!==t&&H(!1)},M=function(e){y(Object(N.a)(Object(N.a)({},g),{},Object(Oe.a)({},e.target.name,e.target.value)))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(le.a,{open:C,autoHideDuration:6e3,onClose:D,children:Object(oe.jsx)(Ee,{onClose:D,severity:"error",children:"Passwords dont match!"})}),Object(oe.jsx)("div",{style:{height:"90vh",display:"flex",alignItems:"center"},children:Object(oe.jsx)(me.a,{component:"main",maxWidth:"xs",children:Object(oe.jsxs)(ve.a,{className:e.paper,elevation:3,children:[Object(oe.jsx)(ge.a,{className:e.avatar,children:Object(oe.jsx)(qe.a,{})}),Object(oe.jsx)(ye.a,{component:"h1",variant:"h5",children:l?"Sign up":"Sign in"}),Object(oe.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),g.password===g.confirmPassword?t(l?function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var r,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v(e);case 3:r=a.sent,c=r.data,n({type:"AUTH",data:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(g,a):function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var r,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m(e);case 3:r=a.sent,c=r.data,n({type:"AUTH",data:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(g,a)):H(!0)},children:[Object(oe.jsxs)(we.a,{container:!0,spacing:2,children:[l&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Ie,{value:g.firstName,name:"firstName",label:"First Name",handleChange:M,half:!0}),Object(oe.jsx)(Ie,{value:g.lastName,name:"lastName",label:"Last Name",handleChange:M,half:!0})]}),Object(oe.jsx)(Ie,{value:g.email,name:"email",label:"Email Address",handleChange:M,type:"email"}),Object(oe.jsx)(Ie,{value:g.password,name:"password",label:"Password",handleChange:M,type:p?"text":"password",handleShowPassword:function(){return x(!p)}}),Object(oe.jsx)(Ie,{value:g.confirmPassword,name:"confirmPassword",label:"Confirm Password",handleChange:M,type:"password"})]}),Object(oe.jsx)(Se.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:l?"Sign Up":"Sign In"}),Object(oe.jsx)(we.a,{container:!0,justifyContent:"flex-end",children:Object(oe.jsx)(we.a,{item:!0,children:Object(oe.jsx)(Se.a,{onClick:function(){y(We),u((function(e){return!e})),x(!1),y(We)},children:l?"Sign In":"Sign Up"})})})]})]})})})]})},_e=a(224),Pe=a(225),Le=a(226),Ue=a(227),Ve=a(241),Fe=a(54),Je=a.n(Fe),Re=a(72),ze=a.n(Re),Ke=Object(Ne.a)({root:{maxWidth:650,margin:"auto"}}),Xe=function(e){var t=e.blog,a=e.timeConverter,n=Ke(),r=JSON.parse(localStorage.getItem("profile")),c=Object(o.b)(),i=function(){return t.saves.length>0?t.saves.find((function(e){var t;return e===(null===r||void 0===r||null===(t=r.result)||void 0===t?void 0:t._id)}))?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(ze.a,{}),t.saves.length]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Je.a,{}),t.saves.length]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Je.a,{}),t.saves.length>0?t.saves.length:null]})};return Object(oe.jsx)("div",{children:Object(oe.jsx)(_e.a,{variant:"outlined",className:n.root,children:Object(oe.jsxs)("div",{className:"cardmain",children:[Object(oe.jsxs)("div",{className:"cardcontent",children:[Object(oe.jsxs)(Pe.a,{children:[Object(oe.jsx)(Le.a,{href:"/".concat(t._id),underline:"none",children:Object(oe.jsx)(ye.a,{variant:"h5",component:"h2",color:"secondary",children:t.title})}),Object(oe.jsx)(ye.a,{gutterBottom:!0,children:t.description}),Object(oe.jsx)(ye.a,{color:"textSecondary",variant:"subtitle1",gutterBottom:!0,children:"By ".concat(r&&t.ownerName===r.result.name?"You":t.ownerName)})]}),Object(oe.jsxs)(Ue.a,{children:[Object(oe.jsx)(ye.a,{color:"textSecondary",variant:"subtitle2",children:"Published on ".concat(a(t.createdAt))}),Object(oe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(oe.jsx)(Le.a,{href:"/".concat(t._id),underline:"none",children:Object(oe.jsx)(Se.a,{size:"small",children:"Read"})}),Object(oe.jsx)(Ve.a,{title:"Save",children:Object(oe.jsx)("span",{children:Object(oe.jsx)(Se.a,{size:"small",disabled:!(null===r||void 0===r?void 0:r.result),onClick:function(){return c(w(t._id))},children:Object(oe.jsx)(i,{})})})})]})]})]}),Object(oe.jsx)("div",{className:"image-div",children:Object(oe.jsx)("img",{className:"category-image",src:t.category,alt:"blogimage"})})]})})})},Qe=function(e){var t=e.blogs,a=e.timeConverter,r=Object(n.useState)(""),c=Object(i.a)(r,2),l=c[0],s=c[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),d=u[0],j=u[1];return Object(oe.jsxs)("div",{children:[Object(oe.jsx)("div",{className:"main-heading",children:Object(oe.jsx)("h2",{children:"Place of Thoughts \ud83c\udf6f"})}),Object(oe.jsx)("div",{style:{margin:"auto",display:"flex",padding:"0 1.5rem"},children:d?Object(oe.jsxs)("select",{className:"search-input",name:"category",id:"category",defaultValue:"",required:!0,onChange:function(e){return s(e.target.value)},children:[Object(oe.jsx)("option",{disabled:!0,value:"",hidden:!0,children:"Search by tags. . ."}),ie.map((function(e){return Object(oe.jsx)("option",{value:e.value,children:e.label},e.value)}))]}):Object(oe.jsx)("input",{className:"search-input",type:"text",id:"search",name:"search",placeholder:"Search by title or author . . .",onChange:function(e){s(e.target.value)}})}),Object(oe.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(oe.jsx)(Se.a,{color:"primary",size:"small",variant:"outlined",onClick:function(){j(!d),s("")},children:"Search by ".concat(d?"title/author":"tags")})}),Object(oe.jsx)("div",{style:{minHeight:"100vh"},children:t?t.filter((function(e){return""===l||e.title.toLowerCase().includes(l.toLowerCase())||e.ownerName.toLowerCase().includes(l.toLowerCase())||l===e.category?e:void 0})).map((function(e){return Object(oe.jsx)("div",{style:{padding:"1rem 1.5rem"},children:Object(oe.jsx)(Xe,{blog:e,timeConverter:a})},e._id)})).reverse():Object(oe.jsx)("div",{style:{height:"100vh"}})})]})},Ze=function(e){var t,a,n=e.blogs,r=e.timeConverter,c=JSON.parse(localStorage.getItem("profile")),i=n.filter((function(e){var t;return e.ownerName===(null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t.name)})),l=n.filter((function(e){var t;return e.saves.includes(null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t._id)}));return(null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t.name)?Object(oe.jsxs)("div",{children:[Object(oe.jsx)("div",{className:"main-heading",children:Object(oe.jsxs)("h2",{children:[null===c||void 0===c||null===(a=c.result)||void 0===a?void 0:a.name," \u26a1"]})}),Object(oe.jsxs)("div",{className:"profile-grid",children:[Object(oe.jsxs)("div",{className:"filled-profile1",children:[Object(oe.jsx)("h3",{className:"small-title",children:"Authored Blogs :"}),i.length>0?i.map((function(e){return Object(oe.jsx)("div",{style:{padding:"1rem 1.5rem"},children:Object(oe.jsx)(Xe,{blog:e,timeConverter:r})},e._id)})).reverse():Object(oe.jsx)("div",{className:"empty-profile1",style:{},children:Object(oe.jsx)("h3",{style:{textAlign:"center"},children:"Looks like you haven't authored any blogs. Write one now!"})})]}),Object(oe.jsxs)("div",{className:"filled-profile2",children:[Object(oe.jsx)("h3",{className:"small-title",children:"Saved blogs :"}),l.length>0?l.map((function(e){return Object(oe.jsx)("div",{style:{padding:"1rem 1.5rem"},children:Object(oe.jsx)(Xe,{blog:e,timeConverter:r})},e._id)})).reverse():Object(oe.jsx)("div",{className:"empty-profile2",style:{},children:Object(oe.jsx)("h3",{style:{textAlign:"center"},children:"Your saved blogs appear here!"})})]})]})]}):Object(oe.jsx)("div",{style:{padding:"2rem 1rem"},children:Object(oe.jsxs)("div",{className:"editor-signup",children:[Object(oe.jsx)("h2",{children:"Sign up to view your profile!"}),Object(oe.jsx)("h4",{className:"auth-buttons",children:Object(oe.jsx)("a",{style:{color:"black"},href:"/auth",children:"Sign Up"})})]})})},$e=a(239),et=a(230),tt=a(231),at=a(232),nt=a(233),rt=a(128),ct=a.n(rt),it=a(127),lt=a.n(it),st=a(126),ot=a.n(st),ut=function(e){var t=e.blog,a=Object(n.useState)(null===t||void 0===t?void 0:t.comments),r=Object(i.a)(a,2),c=r[0],l=r[1],s=Object(o.b)(),u=Object(n.useState)(""),b=Object(i.a)(u,2),h=b[0],p=b[1],x=JSON.parse(localStorage.getItem("profile")),f=Object(n.useRef)(),O=function(){var e=Object(j.a)(d.a.mark((function e(a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n="".concat(x.result.name,": ").concat(h),e.next=4,s(S(n,t._id));case 4:r=e.sent,l(r),p(""),f.current.scrollIntoView({behavior:"smooth"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)("div",{className:"comments-main",children:[Object(oe.jsx)(ye.a,{gutterBottom:!0,variant:"h6",children:"Comments"}),c.length>0?Object(oe.jsxs)("div",{className:"comments-inner",children:[c.map((function(e,t){return Object(oe.jsxs)(ye.a,{gutterBottom:!0,variant:"subtitle1",children:[Object(oe.jsx)("b",{style:{fontWeight:"bold"},children:x&&e.split(": ")[0]===x.result.name?"You":e.split(": ")[0]}),e.split(":")[1]]},t)})),Object(oe.jsx)("div",{ref:f})]}):Object(oe.jsx)("i",{children:Object(oe.jsx)("h4",{style:{color:"grey"},children:"No comments on this post! "})}),x?Object(oe.jsx)("div",{style:{margin:"1rem 0"},children:Object(oe.jsx)(He.a,{fullWidth:!0,label:"Comment",size:"small",variant:"outlined",value:h,onChange:function(e){return p(e.target.value)},InputProps:{endAdornment:Object(oe.jsx)(De.a,{position:"end",children:Object(oe.jsx)(Me.a,{onClick:O,color:"secondary","aria-label":"send",component:"span",disabled:!h,children:Object(oe.jsx)(ot.a,{})})})}})}):null]})},dt=a(228),jt=a(229),bt=Object(Ne.a)({root:{maxWidth:345},media:{height:140}}),ht=function(e){var t=e.blog,a=bt();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(_e.a,{className:a.root,children:[Object(oe.jsxs)(dt.a,{children:[Object(oe.jsx)(jt.a,{className:a.media,image:t.category,title:"Category"}),Object(oe.jsxs)(Pe.a,{children:[Object(oe.jsx)(ye.a,{gutterBottom:!0,variant:"h6",children:t.title}),Object(oe.jsx)(ye.a,{variant:"body2",color:"textSecondary",component:"p",children:t.description})]})]}),Object(oe.jsx)(Ue.a,{children:Object(oe.jsx)(Le.a,{href:"/".concat(t._id),underline:"none",children:Object(oe.jsx)(Se.a,{size:"small",color:"primary",children:"Read"})})})]})})},pt=function(e){var t=e.blogs;return Object(oe.jsxs)("div",{className:"recmain",children:[Object(oe.jsx)("h3",{style:{textAlign:"center",margin:"1rem 0"},children:"YOU MIGHT ALSO LIKE - "}),Object(oe.jsx)("div",{className:"recs",children:t.length>0?t.slice(0,3).map((function(e){return Object(oe.jsx)("div",{style:{margin:"1rem"},children:Object(oe.jsx)(ht,{blog:e})},e._id)})).reverse():Object(oe.jsx)("div",{style:{padding:"1rem"},children:Object(oe.jsx)("i",{children:Object(oe.jsx)("h4",{style:{textAlign:"center",color:"grey"},children:"Looks like there aren't many blogs in this category :( "})})})})]})};function xt(e){return Object(oe.jsx)(se.a,Object(N.a)({elevation:6,variant:"filled"},e))}var ft=function(e){var t,a=e.blogs,r=e.currentId,c=e.setcurrentId,l=Object(n.useRef)(null),u=Object(o.b)(),b=Object(s.i)(),h=Object(s.g)(),p=Object(n.useState)(!1),f=Object(i.a)(p,2),O=f[0],m=f[1],v=Object(n.useState)(!0),g=Object(i.a)(v,2),S=g[0],H=g[1],D=Object(n.useState)(!1),M=Object(i.a)(D,2),k=M[0],B=M[1],A=a.find((function(e){return e._id===b.id})),G=a.filter((function(e){return e._id!==b.id&&e.category===A.category})),I=JSON.parse(localStorage.getItem("profile")),T=Object(n.useState)({description:"",title:"",category:ie[ie.length-1].value}),q=Object(i.a)(T,2),W=q[0],E=q[1],Y=Object(n.useState)(!1),_=Object(i.a)(Y,2),P=_[0],L=_[1],U=function(e,t){"clickaway"!==t&&L(!1)},V=Object(n.useState)(!1),F=Object(i.a)(V,2),J=F[0],R=F[1],z=function(e,t){"clickaway"!==t&&R(!1)},K=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l.current.save();case 3:0!==(a=e.sent).blocks.length?(c={description:W.description,title:W.title,category:W.category,content:a},u(y(r,Object(N.a)(Object(N.a)({},c),{},{ownerName:null===I||void 0===I||null===(n=I.result)||void 0===n?void 0:n.name}))),L(!0),m(!1),H(!0)):alert("Your blog cannot be empty!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){return A.saves.length>0?A.saves.find((function(e){var t;return e===(null===I||void 0===I||null===(t=I.result)||void 0===t?void 0:t._id)}))?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(ze.a,{}),A.saves.length]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Je.a,{}),A.saves.length]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Je.a,{}),A.saves.length>0?A.saves.length:null]})};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(le.a,{open:P,autoHideDuration:6e3,onClose:U,children:Object(oe.jsx)(xt,{onClose:U,severity:"success",children:"Blog updated sucessfully!"})}),Object(oe.jsx)(le.a,{open:J,autoHideDuration:6e3,onClose:z,children:Object(oe.jsx)(xt,{onClose:z,severity:"error",children:"Blog deleted!"})}),Object(oe.jsx)("div",{className:"blogDetails",children:A?Object(oe.jsxs)("div",{className:"blogDetailsMain",children:[Object(oe.jsx)("div",{className:"container",style:{backgroundImage:"url(".concat(A.category,")")},children:Object(oe.jsxs)("div",{className:"modal",children:[Object(oe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(oe.jsx)("h2",{className:"blogtitle",children:A.title}),Object(oe.jsx)(Ve.a,{title:"Save",children:Object(oe.jsx)("span",{children:Object(oe.jsx)(Se.a,{size:"small",disabled:!(null===I||void 0===I?void 0:I.result),onClick:function(){return u(w(A._id))},children:Object(oe.jsx)(X,{})})})})]}),Object(oe.jsx)("p",{className:"blogdescription",children:A.description})]})}),Object(oe.jsx)(C.a,{readOnly:S,data:A.content,tools:ce,placeholder:"Start your story here!",instanceRef:function(e){return l.current=e}}),(null===I||void 0===I||null===(t=I.result)||void 0===t?void 0:t._id)===(null===A||void 0===A?void 0:A.ownerId)&&Object(oe.jsxs)("div",{className:"editanddelete",children:[Object(oe.jsx)(Ve.a,{title:"Edit Blog",children:Object(oe.jsx)(Se.a,{fullWidth:!0,variant:"contained",color:"primary",startIcon:Object(oe.jsx)(lt.a,{}),onClick:function(){c(A._id),E({description:A.description,title:A.title,category:A.category}),m(!0),H(!1)},children:"Edit"})}),Object(oe.jsx)("div",{style:{height:"1rem",width:"3rem"}}),Object(oe.jsx)(Ve.a,{title:"Delete Blog",children:Object(oe.jsx)(Se.a,{fullWidth:!0,variant:"outlined",color:"secondary",startIcon:Object(oe.jsx)(ct.a,{}),onClick:function(){return B(!0)},children:"Unpublish"})})]}),O?Object(oe.jsxs)("form",{className:"form",onSubmit:K,style:{padding:"0"},children:[Object(oe.jsx)("label",{children:"Blog Title:"}),Object(oe.jsx)("input",{required:!0,type:"text",id:"title",name:"title",placeholder:"Blog Title",value:W.title,onChange:function(e){return E(Object(N.a)(Object(N.a)({},W),{},{title:e.target.value}))}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("label",{children:"Short Description:"}),Object(oe.jsx)("input",{required:!0,type:"text",id:"description",name:"description",placeholder:"Short Description",value:W.description,onChange:function(e){return E(Object(N.a)(Object(N.a)({},W),{},{description:e.target.value}))}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("label",{children:"Category:"}),Object(oe.jsx)("select",{name:"category",id:"category",required:!0,value:W.category,onChange:function(e){return E(Object(N.a)(Object(N.a)({},W),{},{category:e.target.value}))},children:ie.map((function(e){return Object(oe.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(oe.jsx)("br",{}),Object(oe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(oe.jsx)("input",{type:"submit",value:"Update"}),Object(oe.jsx)("input",{type:"button",value:"Cancel",onClick:function(){return window.location.reload()}})]})]}):null,Object(oe.jsx)(ut,{blog:A}),Object(oe.jsx)(pt,{blogs:G})]}):Object(oe.jsx)("div",{style:{height:"100vh"}})}),Object(oe.jsxs)($e.a,{open:k,onClose:function(){return B(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(oe.jsx)(et.a,{id:"alert-dialog-title",children:"Unpublish this blog?"}),Object(oe.jsx)(tt.a,{children:Object(oe.jsx)(at.a,{id:"alert-dialog-description",children:"Unpublishing this blog means that it will be removed from 'Place of Thoughts' permanently. Are you sure you want to delete it?"})}),Object(oe.jsxs)(nt.a,{children:[Object(oe.jsx)(Se.a,{onClick:function(){return B(!1)},color:"primary",autoFocus:!0,children:"Cancel"}),Object(oe.jsx)(Se.a,{onClick:function(){u(function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x(e);case 3:n({type:"DELETE",payload:e}),t.push("/"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(A._id,h)),R(!0)},color:"primary",children:"Yes"})]})]})]})},Ot=a(234),mt=a(130);var vt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.blogReducers})),a=Object(n.useState)(null),r=Object(i.a)(a,2),c=r[0],u=r[1],b=JSON.parse(localStorage.getItem("profile"));function p(e){var t=new Date(e),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],n=t.getDate(),r=t.getUTCFullYear();return"".concat(n," ").concat(a,", ").concat(r)}Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/blogs");case 3:a=e.sent,n=a.data,t({type:"FETCH_ALL",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[c,e]);var x=Object(mt.a)({palette:{primary:{main:"#371C5E"},secondary:{main:"#000"}},typography:{fontFamily:"'Rubik', sans-serif"}});return Object(oe.jsx)(l.a,{children:Object(oe.jsxs)(Ot.a,{theme:x,children:[Object(oe.jsx)(xe,{}),Object(oe.jsxs)(s.d,{children:[Object(oe.jsx)(s.b,{exact:!0,path:"/",children:Object(oe.jsx)(Qe,{blogs:t,timeConverter:p})}),Object(oe.jsx)(s.b,{exact:!0,path:"/write",children:Object(oe.jsx)("div",{className:"App",children:Object(oe.jsx)(de,{})})}),Object(oe.jsx)(s.b,{exact:!0,path:"/auth",children:b?Object(oe.jsx)(s.a,{to:"/"}):Object(oe.jsx)(Ye,{})}),Object(oe.jsx)(s.b,{exact:!0,path:"/profile",children:Object(oe.jsx)(Ze,{blogs:t,timeConverter:p})}),Object(oe.jsx)(s.b,{exact:!0,path:"/:id",children:Object(oe.jsx)(ft,{blogs:t,currentId:c,setcurrentId:u})})]}),Object(oe.jsx)(fe,{})]})})},gt=a(55),yt=a(129),wt=a(131),St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(N.a)({},null===t||void 0===t?void 0:t.data))),Object(N.a)(Object(N.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data});case"LOGOUT":return localStorage.clear(),Object(N.a)(Object(N.a)({},e),{},{authData:null});default:return e}},Nt=Object(gt.b)({blogReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE":return e.filter((function(e){return e._id!==t.payload}));case"UPDATE":case"SAVE":case"COMMENT":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"FETCH_ALL":return t.payload;case"CREATE":return[].concat(Object(wt.a)(e),[t.payload]);default:return e}},authReducers:St}),Ct=Object(gt.d)(Nt,Object(gt.c)(Object(gt.a)(yt.a)));c.a.render(Object(oe.jsx)(o.a,{store:Ct,children:Object(oe.jsx)(vt,{})}),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.5e6a7874.chunk.js.map